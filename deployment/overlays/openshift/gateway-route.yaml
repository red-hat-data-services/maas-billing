# OpenShift Route for Gateway access with policy enforcement
# 
# This route provides controlled access to AI models through the Gateway which:
#   - Enforces authentication via AuthPolicy
#   - Applies rate limiting via TokenRateLimitPolicy
#   - Routes to appropriate model backends based on HTTPRoutes
#
# All model inference requests should use this gateway endpoint
---
apiVersion: route.openshift.io/v1
kind: Route
metadata:
  name: gateway-route
  namespace: openshift-ingress
  labels:
    app: maas
    gateway: maas-default-gateway
spec:
  host: gateway.${CLUSTER_DOMAIN} 
  port:
    targetPort: 80
  tls:
    insecureEdgeTerminationPolicy: Redirect
    termination: edge
  to:
    kind: Service
    name: maas-default-gateway-openshift-default
    weight: 100
  wildcardPolicy: None

